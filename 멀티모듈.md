# 멀티 프로젝트
- 회원 시스템이 존재하고, 회원 시스템을 구성하는 다수의 프로젝트가 존재한다고 가정한다.
- 프로젝트들은 각기 다른 역할을 맡고 있고, 전체적인 회원 시스템은 다음 그림과 같다.
 ![image](https://github.com/pable91/TIL/assets/22884224/fba13081-58e4-4939-aea3-342bee167241)

# 멀티 프로젝트의 문제점
- 프로젝트마다 역할과 책임은 다르겠지만 "회원"이라는 커다란 시스템안에서 존재하기 떄문에 공통되는 코드가 분명 필요하다.
- 예를 들자면 "회원(=Member)"이라는 도메인은 어떤 프로젝트에서든 사용하고 존재해야만 한다.
- 즉, 그림의 3개의 프로젝트는 독립적이므로 "Member 도메인 코드"를 각각 따로 작성하고 관리해야한다. 중복이 발생한다.
- 여러 프로젝트에서 중복 코드들은 휴먼에러 발생의 빈도를 높이고 유지보수의 난이도를 향상시킨다.

# 사설 저장소?
- 멀티 프로젝트의 단점(=공통 코드)을 없애기 위해 Nexus같은 사설 저장소를 적용해도 된다. 
- 이 같은 방식은 공통된 코드를 사설 저장소에서 관리하여 모든 프로젝트가 사용할 수 있게 한다. 
![image](https://github.com/pable91/TIL/assets/22884224/dc36bc60-f9b9-4695-8c88-0aa1b14654fc)
- 하지만 공통된 코드를 수정하면 배포 및 빌드를 해야하고, 완료되어야지 다른 프로젝트에서 사용가능해진다.
- 즉, ***공통 코드 수정시 별도의 배포 및 빌드라는 과정이 추가***되므로 매우 번거롭다.

# 멀티 모듈
- 멀티모듈이라는 방식은 말그대로 하나의 프로젝트에 여러 개의 모듈을 관리하는 방법이다. 
![image](https://github.com/pable91/TIL/assets/22884224/e26c44d8-77c5-4f91-9426-d88557d9fdd3)
- 위에서 봤던 프로젝트들은 이제부터 하나의 프로젝트가 아닌 ***하나의 모듈***이다. 그리고 ***공통된 코드도 하나의 모듈***이다.   
- 멀티 모듈을 사용하면 ***중복된 코드를 하나의 모듈에서 관리하고 별도의 빌드/배포 과정도 필요하지 않다.***

# 멀티 모듈의 단점
- 멀티 모듈을 적용하고, 시간이 점차 흘러 코드들이 추가되면서 공통 모듈이 점점 거대해진다. 이는 여러가지 문제를 야기할 수 있다.  
1. 스파게티 코드
    - 공통 모듈내 코드들이 복잡하게 얽혀 있을 수 있다. 하지만 이를 리팩토링하기는 어렵다. 왜냐하면 공통모듈 코드는 다른 모듈을 전체에 영향을 끼치기 때문이다. 
![image](https://github.com/pable91/TIL/assets/22884224/37fe300c-2f7e-4cb9-8510-0ace05c01a01)
2. 의존성 덩어리
    - 공통 모듈안에는 많은 의존성들이 포함된다. 문제는 어떤 어플리케이션이 공통 모듈을 사용하기위해 실제 적용될 필요가 없는 의존성까지 적용할 수 있다는 단점과 너무 많은 의존성은 장애의 원인이 되기도 한다. 
![image](https://github.com/pable91/TIL/assets/22884224/5f223772-ed96-46d5-a090-643f345c0e13)
3. 공통 설정
    - 공통 모듈에서 설정을 갖게 되면 의존성에서 발생한 문제처럼, 어플리케이션에서 적용될 필요가 없는 설정(ex, 최대 커넥션 수)까지도 적용되어 예상치 못한 문제의 원인이 된다. 
![image](https://github.com/pable91/TIL/assets/22884224/5b8ae7f7-a092-4097-9e6c-783128da15ac)


[출처] https://hudi.blog/why-use-multi-module/    
[출처] https://techblog.woowahan.com/2637/

